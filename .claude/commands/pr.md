# /pr コマンド

GitHub運用ルールに従ってプルリクエストを作成します。

## 手順

1. 現在のブランチを確認
2. `main` との差分を確認（`git diff main..HEAD`）
3. コミット履歴を確認（`git log main..HEAD`）
4. 変更内容を分析し、以下を自動生成:
   - 概要（コミットメッセージから）
   - 種別（コミットタイプから）
   - 修正範囲（変更ファイル一覧から）
   - 影響度（変更内容から判定）
   - テスト内容（変更内容からテスト項目を提案）
5. ユーザーに確認を求める
6. `gh pr create` でPRを作成

## PRタイトル形式

```
<type>: <subject>
```

コミットメッセージと同じ形式を使用。

## PR説明テンプレート

```markdown
## 概要
<!-- コミットメッセージから自動生成 -->

## ユーザーへの影響
<!-- 変更内容から自動判定 -->
<!-- 影響なし / UI変更あり / 操作方法変更あり / 設定変更あり 等 -->

## 変更種別
- [ ] 新機能 (feat)
- [ ] バグ修正 (fix)
- [ ] ドキュメント (docs)
- [ ] リファクタリング (refactor)
- [ ] その他

## 修正範囲
<!-- 変更ファイルをカテゴリ別に自動生成 -->
| カテゴリ | ファイル数 | 主な変更 |
|---------|-----------|---------|

## 影響度
<!-- 変更内容から自動判定 -->
- [ ] 高（コア機能・DB変更・API変更）
- [ ] 中（UI変更・設定変更）
- [ ] 低（ドキュメント・スタイル）

## テスト内容
<!-- 変更内容から自動生成 -->
| テスト項目 | 確認内容 |
|-----------|---------|

## 関連Issue
Closes #

## 備考
```

## 影響度の判定基準

| 影響度 | 条件 |
|--------|------|
| 高 | `database/`, `batch/core/`, API変更、DB変更 |
| 中 | `web/`, `templates/`, 設定ファイル変更 |
| 低 | `docs/`, `.md`, スタイルのみ |

## テスト内容の自動生成ルール

| 変更箇所 | 提案するテスト項目 |
|---------|-------------------|
| `batch/` | バッチ処理の動作確認 |
| `web/routes/` | 該当画面の表示・操作確認 |
| `web/services/` | API応答の確認 |
| `database/` | DB操作の正常性確認 |
| `templates/` | 設定ファイル生成の確認 |

## 注意事項

- `main` ブランチからPRは作成しない
- 全ての変更はPR必須（hotfix含む）
- feature/fix/docs/refactor/hotfix ブランチから `main` へのPRを作成

## 実行例

```bash
gh pr create --title "feat: メール通知機能を追加" --body "..."
```

---

$ARGUMENTS
