{% extends "base.html" %}

{% block title %}ユーザー管理 - POL Portal{% endblock %}

{% block content %}
<ul class="breadcrumb">
    <li><a href="{{ url_for('settings.index') }}">設定</a></li>
    <li>ユーザー管理</li>
</ul>

<div class="page-header d-flex justify-between align-center">
    <h1><i class="bi bi-people"></i> ユーザー管理</h1>
    <a href="{{ url_for('settings.users_add') }}" class="btn-primary-modern" style="padding: 0.5rem 1rem;">
        <i class="bi bi-person-plus"></i> ユーザーを追加
    </a>
</div>

<div class="table-card">
    <table class="table-modern">
        <thead>
            <tr>
                <th>ID</th>
                <th>ユーザー名</th>
                <th>権限</th>
                <th>状態</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.id }}</td>
                <td><strong>{{ user.username }}</strong></td>
                <td>
                    {% if user.role == 'admin' %}
                    <span class="badge badge-info">管理者</span>
                    {% else %}
                    <span class="badge badge-secondary">一般ユーザー</span>
                    {% endif %}
                </td>
                <td>
                    {% if user.enabled %}
                    <span class="badge badge-success">有効</span>
                    {% else %}
                    <span class="badge badge-danger">無効</span>
                    {% endif %}
                </td>
                <td>
                    <a href="{{ url_for('settings.users_edit', user_id=user.id) }}"
                       class="btn-outline-secondary" style="padding: 0.3rem 0.8rem; font-size: 0.85rem;">
                        <i class="bi bi-pencil"></i> 編集
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
